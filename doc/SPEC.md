# 仕様書 (Specification)

## 概要

このドキュメントは、alfred-anemiaプロジェクトの機能仕様を定義します。

## バージョン情報

- **バージョン**: 0.1.0
- **最終更新**: 2025-01-02
- **Python要件**: >=3.13

## 機能要件

### 1. 主要機能

#### 1.1 機能名
- **説明**: 各種パラメータを入力し、貧血の鑑別結果を出力する。
- **優先度**: 高
- **ステータス**: 未実装

#### 1.2 機能名
- **説明**: 機能の概要説明
- **優先度**: 高/中/低
- **ステータス**: 未実装/実装中/完了

### 2. 入力仕様

#### 2.1 コマンドライン引数
```
python -m src.main [オプション]
```

**オプション**:
- <gender>: 性別(m/f)
- <hb>: ヘモグロビン値(g/dL)


#### 2.2 設定ファイル
- 形式: JSON/YAML/TOML
- 場所: `config/` または環境変数

### 3. 出力仕様

#### 3.1 標準出力
- 形式: テキスト/JSON
- エンコーディング: UTF-8

#### 3.2 ファイル出力
- 形式: 指定された形式
- 場所: 指定されたパス

#### 3.3 出力内容
- 形式: テキスト/JSON
- エンコーディング: UTF-8
- gender が m, f 以外の場合、title は "性別: (m or f)", subtitle は "性別: (m or f)" 。
- gender が m か f の場合、title は "性別: <性別>, Hb: "
  - gender が m の場合、subtitle は "Hb: < 13.0 g/dL → 貧血"
  - gender が f の場合、subtitle は "Hb: < 12.0 g/dL → 貧血"

### 4. エラーハンドリング

#### 4.1 エラーコード
- `0`: 正常終了
- `1`: 一般的なエラー
- `2`: 引数エラー
- `3`: ファイルエラー

#### 4.2 エラーメッセージ
- 形式: 明確で理解しやすいメッセージ
- 言語: 日本語/英語

### 5. パフォーマンス要件

- 処理時間: 目標値
- メモリ使用量: 上限値
- スループット: 目標値

### 6. セキュリティ要件

- 入力検証
- 認証・認可
- データ保護

### 7. 非機能要件

- 可用性
  - Script Filterへの実装のため、すべてのスクリプトは src/main.py に記述する。
- 保守性
- 拡張性
- 互換性

## 変更履歴

| 日付       | バージョン | 変更内容 | 変更者 |
| ---------- | ---------- | -------- | ------ |
| 2025-01-02 | 0.1.0      | 初版作成 | -      |

